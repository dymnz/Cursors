<!DOCTYPE html>

<html lang="en">

	<head>
		<meta name="viewport" content="initial-scale=1.0001, minimum-scale=1.0001, maximum-scale=1.0001, user-scalable=no"/>

		<title>A multiplayer game built using HTML5 canvas and WebSockets</title>
		<meta charset="utf-8">
		
		<link rel="stylesheet" href="style/reset.css">
		<link rel="stylesheet" href="style/game.css">
  		<link rel="stylesheet" href="style/materialize.min.css">  
	</head>
	
	<body class = "light-blue lighten-1">

		<div class="row v-align" id="welcome">
			<h1 class="center-align white-text">
				balls
			</h1>	
					<div class="row"  >
			    <form class="col s4 offset-s4 white" >
			      <div class="row blue-grey-text text-darken-4">
			        <div class="input-field col s12">
			    	<input placeholder="" id="name" type="text" name="name" onkeydown = "if (event.keyCode == 13) document.getElementById('button').click();" class="validate right-align blue-grey-text text-darken-4">
			    	<label class="grey-text text-darken-4" for="name">Name</label>			
			        </div>
			          	<div class="input-field col s12">
			              <input placeholder="Placeholder" id="team_id" type="text"onkeydown = "if (event.keyCode == 13) document.getElementById('button').click();" class="validate right-align">
			              <label class="grey-text text-darken-4" for="first_name">Team ID</label>
			        </div>
			      </div>
			     <div class="row center-align">	
				<a class="waves-effect waves-light btn-large green accent-2" onClick="submit();">Enter</a>
				</div>
				<p class="center-align flow-text deep-orange-text" id="inform"></p>
			    </form>		
			  </div>	
			
		
		
		</div>
		<div class="myCanvas">
			<canvas id="gameCanvas"></canvas>	
		</div>
		
		<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
		<script src="js/requestAnimationFrame.js"></script>
		<script src="js/Keys.js"></script>
		<script src="js/Player.js"></script>
		<script src="js/game.js"></script>
		<script src="js/Map.js"></script>
		<script type="text/javascript" src="js/jquery-2.2.3.min.js"></script>
  		<script src="js/materialize.min.js"></script>
		<script>
			// Initialise the game

			document.getElementById("gameCanvas").width = 0;
			document.getElementById("gameCanvas").height = 0;
			document.getElementById("team_id").value = Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000;

			function submit() {
			var name=document.getElementById("name").value;
			var teamId=document.getElementById("team_id").value;
			if(isNaN(teamId) || teamId.replace(/^\s+|\s+$/g, '').length != 5)
				document.getElementById('inform').innerHTML = 'Team ID is a 5-digit number';
			else if (name.replace(/^\s+|\s+$/g, '').length != 0)
			{
				document.getElementById('welcome').remove();
				init(name, teamId);
				animate();
		         	}
		         	else
		         		document.getElementById('inform').innerHTML = 'Name cannot be empty';
		   	}
		</script>
	</body>
</html>